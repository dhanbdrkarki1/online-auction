{% extends 'client/base.html' %}
{% load static %}
{% load humanize %}
{% block content %}
<div class="main-banner" style="padding-top:120px;" id="top">
    <div class="container">
        <!-- Sold Lots in auction -->
        <h3 class="mt-3">Here are all your won lots.</h3>
        {% if won_lots %}
        <table id="soldLotsTable" class="table mt-4 display responsive nowrap" width="100%">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Lot Name</th>
                    <th scope="col">Highest Bid Amount</th>
                    <th scope="col">Starting Price</th>
                    <th scope="col">Auction Duration</th>
                </tr>
            </thead>
            <tbody>
                {% for lot in won_lots %}
                <tr>
                    <td scope="row">{{ forloop.counter }}</td>
                    <td><a href="{{ lot.get_absolute_url }}">{{ lot.name }}</a></td>
                    <td>{{ lot.highest_bid_amount|intcomma }}</td>
                    <td>{{ lot.starting_price|intcomma }}</td>
                    <td>{{ lot.auction_duration }} days</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p class="text-muted">You don't have any lots sold yet.</p>
        {% endif %}
    </div>
</div>
{% endblock %}

{% block js %}
<script>
    $(document).ready(function () {
        $('#soldLotsTable').DataTable({
            responsive: true,
            searching: false,
            paging: false,
            info: false,
        });
    });
</script>
{% endblock %}